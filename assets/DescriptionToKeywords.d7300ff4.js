import{j as b,s as g,m as h,_ as w,o as x,c as f,a,t as T,k as S,n as d,f as R,v as E,b as B,i as _}from"./index.f6d6d49a.js";import{u as m}from"./keywords.388d189e.js";const n="default",u="copied",i="error",c="noKeywords",l=b({id:"errors",state:()=>({copyButtonTextState:n,copyButtonText:{default:"Copy Generated Keywords",copied:"Copied!",error:"Error! Try again",noKeywords:"Add some description to generate keywords"}}),getters:{getCopyButtonTextState(){return this.copyButtonTextState},getCopyButtonText(){return this.copyButtonText[this.copyButtonTextState]}},actions:{setCopyButtonTextState(e){this.copyButtonTextState=e}}}),C={props:{keywords:{type:String,required:!0},obj:{type:Object,default:()=>({})},arr:{type:Array,default:()=>[]}},setup(){const e=l(),{getCopyButtonTextState:t,getCopyButtonText:o}=g(e);return{copyButtonTextState:t,copyButtonText:o,ERROR_STATE_DEFAULT:n,ERROR_STATE_COPIED:u,ERROR_STATE_NOKEYWORDS:c,ERROR_STATE_ERROR:i}},methods:{...h(l,["setCopyButtonTextState"]),copyKeywords(){const e=document.querySelector("#block-to-copy");if(this.keywords.length>0){e.setAttribute("type","text"),e.select();try{document.execCommand("copy"),this.setCopyButtonTextState(u),setTimeout(()=>{this.setCopyButtonTextState(n)},5e3)}catch{alert("Oops, unable to copy"),this.setCopyButtonTextState(i),setTimeout(()=>{this.setCopyButtonTextState(n)},1e4)}e.setAttribute("type","hidden"),window.getSelection().removeAllRanges()}else this.setCopyButtonTextState(c),setTimeout(()=>{this.setCopyButtonTextState(n)},5e3)}}},K={class:"w-full"},v=["value"];function A(e,t,o,r,k,s){return x(),f("div",K,[a("button",{onClick:t[0]||(t[0]=S((...y)=>s.copyKeywords&&s.copyKeywords(...y),["stop","prevent"])),type:"button",class:d(["w-full py-3 px-5 text-sm font-medium text-center text-white rounded-lg focus:ring-4 focus:outline-none transition-all ease-in duration-300",{"bg-primary-700 hover:bg-primary-800 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800":r.copyButtonTextState===r.ERROR_STATE_DEFAULT,"bg-green-500 hover:bg-green-600 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800":r.copyButtonTextState===r.ERROR_STATE_COPIED,"bg-red-500 hover:bg-red-600 focus:ring-red-300 dark:bg-red-500 dark:hover:bg-red-600 dark:focus:ring-red-700":r.copyButtonTextState===r.ERROR_STATE_ERROR||r.copyButtonTextState===r.ERROR_STATE_NOKEYWORDS}])},T(r.copyButtonText),3),a("input",{id:"block-to-copy",type:"hidden",value:o.keywords},null,8,v)])}const O=w(C,[["render",A]]),D={components:{CopyKeywordsBtn:O},data:()=>({keywords:"",description:""}),setup(){const e=m(),t=l(),{getWordsToIgnore:o}=g(e),{getCopyButtonTextState:r}=g(t);return{wordsToBeCut:o,getCopyButtonTextState:r,ERROR_STATE_COPIED:u,ERROR_STATE_DEFAULT:n,ERROR_STATE_ERROR:i,ERROR_STATE_NOKEYWORDS:c}},computed:{isError(){return this.getCopyButtonTextState===i||this.getCopyButtonTextState===c},getKeywords(){return this.keywords.length>0?this.keywords:"Keywords will be generated here"}},mounted(){m().$subscribe(()=>{this.generateKeywords()})},methods:{generateKeywords(){let e=" "+this.description;e=e.toLowerCase(),e=e.replace(new RegExp(/\. /g)," "),e=e.replace(new RegExp(/ /g),", "),e=e.replace(new RegExp(/\\"/g),""),e=e.replace(new RegExp(/:/g),""),e=e.replace(new RegExp(/”/g),""),e=Array.from(new Set(e.split(","))).toString(),e=e.replace(new RegExp(/\./g),"");const t=this.wordsToBeCut.map(o=>" "+o+",");e=e.replace(new RegExp(t.join("|"),"g"),""),e=e.replace(new RegExp(/ [0-9]{2},/g)," "),e=e.replace(new RegExp(/ [0-9]{1},/g)," "),e=e.replace(new RegExp(/,, /g),", "),e.charAt(0)===","&&(e=e.substring(1)),e.length===1&&(e=""),this.keywords=e}}},j={class:"lg:w-5/12 flex flex-col gap-4 w-full"},L={class:""},N={class:""},U=a("span",{class:"block mb-2 text-sm font-medium text-gray-900 dark:text-gray-400"},"Keywords from your description",-1);function q(e,t,o,r,k,s){const y=_("CopyKeywordsBtn");return x(),f("div",j,[a("div",L,[a("label",{for:"message",class:d(["block mb-2 text-sm font-medium",s.isError?"text-red-900 dark:text-red-400":"text-gray-900 dark:text-gray-400"])},"Your description",2),R(a("textarea",{"onUpdate:modelValue":t[0]||(t[0]=p=>e.description=p),id:"message",rows:"6",name:"message",onKeyup:t[1]||(t[1]=(...p)=>s.generateKeywords&&s.generateKeywords(...p)),class:d(["block p-2.5 w-full text-sm rounded-lg shadow-sm border transition-all ease-in duration-300",s.isError?"text-red-800 bg-red-100 border-red-300 focus:ring-red-500 focus:border-red-500 dark:bg-red-900 dark:border-red-600 dark:placeholder-red-400 dark:text-red-400 dark:focus:ring-red-500 dark:focus:border-red-500":"text-gray-900 bg-gray-50 border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500"]),placeholder:"Leave a description...","data-rule":"required","data-msg":"Please write something for us"},null,34),[[E,e.description]])]),a("div",N,[U,a("div",{class:d(["block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg shadow-sm border border-gray-300 focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500",{"h-10":e.keywords.length===0}])},T(s.getKeywords),3)]),B(y,{keywords:e.keywords},null,8,["keywords"])])}const V=w(D,[["render",q]]);export{V as default};
